<div class="library">
    <h2>Búsqueda</h2>

    <div class="form">
        <mat-form-field class="input" appearance="outline">
            <mat-label>Buscar</mat-label>
            <input matInput type="text" [(ngModel)]="value" (keyup.enter)="search()">
            <button *ngIf="value" matSuffix mat-icon-button aria-label="Clear" (click)="value=''">
                <mat-icon>close</mat-icon>
            </button>
            <mat-icon *ngIf="!value" matSuffix>search</mat-icon>
        </mat-form-field>

        <button mat-raised-button color="primary" (click)="search()">Buscar</button>
    </div>

    <hr>

    <div class="result">
        <mat-card class="mat-elevation-z4" *ngFor="let book of books">
            <mat-card-title-group>
                <mat-card-title>{{ book.name }}</mat-card-title>
                <mat-card-subtitle>{{ book.author.name + ' ' + book.author.lastname }}</mat-card-subtitle>
                <img mat-card-sm-image src="https://i.pinimg.com/564x/0d/a2/30/0da230462d6dfcd8e3729a2fe6852e6d.jpg">
            </mat-card-title-group>
            <mat-card-content>
                {{ book.year }}
            </mat-card-content>
        </mat-card>
    </div>
    <div *ngIf="result && books.length === 0">
        No existen resultados para esta búsqueda.
    </div>
    <div *ngIf="result && books.length > 0" class="download">
        <button mat-raised-button color="accent" (click)="htmltoPDF()">Descargar</button>
    </div>
</div>

<table id="result">
    <thead>
        <tr>
            <th>ISBN</th>
            <th>Nombre</th>
            <th>Tipo</th>
            <th>Autor</th>
            <th>Año</th>
            <th>Editorial</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let book of books">
            <td>{{ book.isbn }}</td>
            <td>{{ book.name }}</td>
            <td>{{ book.kind.name }}</td>
            <td>{{ book.author.name + ' ' + book.author.lastname  }}</td>
            <td>{{ book.year }}</td>
            <td>{{ book.editorial }}</td>
        </tr>
    </tbody>
</table>